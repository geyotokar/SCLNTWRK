(this.webpackJsonpreacttest1=this.webpackJsonpreacttest1||[]).push([[0],{19:function(e,t,n){"use strict";n(0),n(83);var r=n(1);t.a=function(){return Object(r.jsx)("div",{className:"yin-yang"})}},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f}));var r=n(4),c=n.n(r),a=n(8),A=n(2),s=n(5),u={id:null,email:null,login:null,isAuth:!1,captchaURL:null},i=function(e,t,n,r){return{type:"SN/AUTH/SET_USER_DATA",payload:{id:e,email:t,login:n,isAuth:r}}},o=function(e){return{type:"SN/AUTH/GET_CAPTCHA_URL_SUCCESS",payload:{captchaURL:e}}},l=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r,a,A,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.c.me();case 2:(n=e.sent).resultCode===s.b.Success&&(r=n.data,a=r.id,A=r.email,u=r.login,t(i(a,A,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n){return function(){var r=Object(a.a)(c.a.mark((function r(a){var A;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.c.login(e,t,n);case 2:if((A=r.sent).resultCode!==s.b.Success){r.next=8;break}return r.next=6,a(l());case 6:r.next=11;break;case 8:if(A.resultCode!==s.a.CaptchaIsRequired){r.next=11;break}return r.next=11,a(d());case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},d=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e.getCaptchaUrl();case 2:n=e.sent,r=n.url,t(o(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTH/SET_USER_DATA":case"SN/AUTH/GET_CAPTCHA_URL_SUCCESS":return Object(A.a)(Object(A.a)({},e),t.payload);default:return e}}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return b}));var r=n(4),c=n.n(r),a=n(8),A=n(16),s=n(2),u=n(5),i={posts:[{id:1,name:"\u0410\u043d\u0433\u0435\u043b\u0438\u043d\u0430 \u0422\u043e\u043a\u0430\u0440\u044c",message:"\u042d\u0442\u043e \u043c\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0441\u0442",likeCounter:1},{id:2,name:"\u0410\u043d\u0433\u0435\u043b\u0438\u043d\u0430 \u0422\u043e\u043a\u0430\u0440\u044c",message:"\u0412\u0441\u0435 \u043c\u044b - \u043d\u0435 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0439\u043e\u0433\u0443\u0440\u0442\u044b",likeCounter:2},{id:3,name:"\u0410\u043d\u0433\u0435\u043b\u0438\u043d\u0430 \u0422\u043e\u043a\u0430\u0440\u044c",message:"\u0421\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0443\u0442 \u043a\u043b\u0430\u0441\u0441\u043d\u044b\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438. \u0412\u043e\u043b\u043d\u0443\u044e\u0441\u044c - \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u043c\u0438. \u0414\u0435\u0440\u0436\u0438\u0442\u0435 \u043a\u0443\u043b\u0430\u0447\u043a\u0438)",likeCounter:3}],newPostText:"",profile:null,status:""},o={addPost:function(e){return{type:"SN/PROFILE/ADD_POST",newPostText:e}},setUserProfile:function(e){return{type:"SN/PROFILE/SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"SN/PROFILE/SET_STATUS",status:e}},savePhotoSuccess:function(e){return{type:"SN/PROFILE/SAVE_PHOTO_SUCCESS",photos:e}}},l=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.d.getProfile(e);case 2:r=t.sent,n(o.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.d.getStatus(e);case 2:r=t.sent,n(o.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.d.updateStatus(e);case 2:t.sent.resultCode===u.b.Success&&n(o.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.d.savePhoto(e);case 2:(r=t.sent).resultCode===u.b.Success&&n(o.savePhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,A;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.id,t.next=3,u.d.saveProfile(e);case 3:if((A=t.sent).resultCode!==u.b.Success){t.next=13;break}if(null==a){t.next=10;break}return t.next=8,n(l(a));case 8:t.next=11;break;case 10:throw new Error("userId can`t be null");case 11:t.next=14;break;case 13:return t.abrupt("return",Promise.reject(A.messages[0]));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROFILE/ADD_POST":var n={id:4,name:"\u0410\u043d\u0433\u0435\u043b\u0438\u043d\u0430 \u0422\u043e\u043a\u0430\u0440\u044c",message:t.newPostText,likeCounter:0};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(A.a)(e.posts),[n]),newPostText:""});case"SN/PROFILE/SET_USER_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"SN/PROFILE/SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"SN/PROFILE/SAVE_PHOTO_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});default:return e}}},29:function(e,t,n){},32:function(e,t,n){"use strict";t.a="data:image/jpeg;base64,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"},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(16),c=n(2),a={dialogs:[{id:1,name:"\u0410\u043d\u0434\u0440\u0435\u0439 \u0413\u043e\u043d\u0447\u0430\u0440\u043e\u0432",isOnline:!0},{id:2,name:"\u0421\u0430\u0448\u0430 \u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432\u0430",isOnline:!1},{id:3,name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u0422\u043a\u0430\u0447\u0435\u0432",isOnline:!1},{id:4,name:"\u0410\u043d\u043d\u0430 \u0421\u0442\u043e\u043b\u044f\u0440\u043e\u0432\u0430",isOnline:!0},{id:5,name:"\u0412\u0438\u043a\u0442\u043e\u0440 \u0411\u043e\u043d\u0434\u0430\u0440\u044c",isOnline:!1},{id:6,name:"\u0412\u0430\u043b\u0435\u0440\u0438\u044f \u041c\u0435\u043b\u044c\u043d\u0438\u043a\u043e\u0432\u0430",isOnline:!1}],messages:[{id:1,message:"\u041f\u0440\u0438\u0432\u0435\u0442"},{id:2,message:"\u0417\u0430\u0432\u0442\u0440\u0430 \u043a\u0430\u043a \u043e\u0431\u044b\u0447\u043d\u043e?"},{id:3,message:"\u042f \u0437\u0430\u0445\u0432\u0430\u0447\u0443 \u043a\u043e\u0444\u0435"}],newMessageBody:""},A={sendMessage:function(e){return{type:"SN/DIALOGS/SEND_MESSAGE",newMessageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;if("SN/DIALOGS/SEND_MESSAGE"===t.type){var n=t.newMessageBody;return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:4,message:n}])})}return e}},42:function(e,t,n){},49:function(e,t,n){},5:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o}));var r,c,a=n(44),A=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"fbbfebc8-cded-4e6a-b6ad-1df4c0e62546"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(c||(c={}));var s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return A.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},follow:function(e){return A.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return A.delete("follow/".concat(e)).then((function(e){return e.data}))}},u={getProfile:function(e){return A.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return A.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return A.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),A.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfile:function(e){return A.put("profile",e).then((function(e){return e.data}))}},i={me:function(){return A.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return A.post("auth/login",{email:e,password:t,captcha:n}).then((function(e){return e.data}))},logout:function(){return A.delete("auth/login")}},o={getCaptchaUrl:function(){return A.get("security/get-captcha-url").then((function(e){return e.data}))}}},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=(n(49),function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,91)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,A=t.getTTFB;n(e),r(e),c(e),a(e),A(e)}))}),A=n(24),s=n.n(A),u=(n(53),n(54),n(55),n(11)),i=n(1),o=function(){return Object(i.jsx)("div",{className:"h_nav ne",children:Object(i.jsx)(u.b,{to:"/news",children:"\u041d\u041e\u0412\u041e\u0421\u0422\u0418"})})},l=function(){return Object(i.jsx)("div",{className:"h_nav di",children:Object(i.jsx)(u.b,{to:"/dialogs",children:"\u0421\u041e\u041e\u0411\u0429\u0415\u041d\u0418\u042f"})})},f=function(){return Object(i.jsx)("div",{className:"h_nav us",children:Object(i.jsx)(u.b,{to:"/users",children:"\u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u0418"})})},d=function(){return Object(i.jsx)("div",{className:"h_nav pr",children:Object(i.jsx)(u.b,{to:"/profile",children:"\u041f\u0420\u041e\u0424\u0418\u041b\u042c"})})},j=function(){return Object(i.jsxs)("nav",{className:"nav",children:[Object(i.jsx)(o,{}),Object(i.jsx)(l,{}),Object(i.jsx)("div",{className:"yinYang"}),Object(i.jsx)(f,{}),Object(i.jsx)(d,{})]})},b=n(3),O=(n(57),n(7)),p=function(){var e=Object(O.c)((function(e){return e.auth.isAuth})),t=Object(O.c)((function(e){return e.auth.login}));return Object(i.jsxs)("header",{className:"header",children:["SCLNTWRK",Object(i.jsx)("b",{className:"header__PRO",children:"PRO"}),Object(i.jsx)("div",{className:"loginBlock",children:e?t:Object(i.jsx)(u.b,{to:"/login",children:"Login"})})]})},h=n(4),g=n.n(h),S=n(8),m=n(2),x=n(25),v={initialized:!1},N=function(){return{type:"SN/APP/INITIALIZED_SUCCESS"}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return"SN/APP/INITIALIZED_SUCCESS"===t.type?Object(m.a)(Object(m.a)({},e),{},{initialized:!0}):e},w=n(19),C=n(26),U=n(41),P=n(16),R=n(5),T=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(m.a)(Object(m.a)({},e),r):e}))},y={users:[],pageSize:12,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},F=function(e){return{type:"SN/USERS/FOLLOW",userId:e}},I=function(e){return{type:"SN/USERS/UNFOLLOW",userId:e}},M=function(e){return{type:"SN/USERS/SET_USERS",users:e}},k=function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",currentPage:e}},B=function(e){return{type:"SN/USERS/SET_TOTAL_USERS_COUNT",count:e}},_=function(e){return{type:"SN/USERS/SET_FILTER",payload:e}},L=function(e){return{type:"SN/USERS/TOGGLE_IS_FETCHING",isFetching:e}},G=function(e,t){return{type:"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},D=function(e,t,n){return function(){var r=Object(S.a)(g.a.mark((function r(c){var a;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(L(!0)),c(k(e)),c(_(n)),r.next=5,R.f.getUsers(e,t,n.term,n.friend);case 5:a=r.sent,c(L(!1)),c(M(a.items)),c(B(a.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Q=function(){var e=Object(S.a)(g.a.mark((function e(t,n,r,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(c(n)),t(G(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(m.a)(Object(m.a)({},e),{},{users:T(e.users,t.userId,"id",{followed:!0})});case"SN/USERS/UNFOLLOW":return Object(m.a)(Object(m.a)({},e),{},{users:T(e.users,t.userId,"id",{followed:!1})});case"SN/USERS/SET_USERS":return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case"SN/USERS/SET_CURRENT_PAGE":return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/SET_TOTAL_USERS_COUNT":return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.count});case"SN/USERS/SET_FILTER":return Object(m.a)(Object(m.a)({},e),{},{filter:t.payload});case"SN/USERS/TOGGLE_IS_FETCHING":return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(m.a)(Object(m.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(P.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},K=n(21),z=n(45),V=Object(K.b)({profilePage:C.b,dialogsPage:U.b,usersPage:W,auth:x.a,app:E}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.c,J=Object(K.d)(V,H(Object(K.a)(z.a))),Y=(n(42),n(84),function(e){var t=String.fromCharCode(9825);return Object(i.jsxs)("div",{className:"post",children:[Object(i.jsx)("div",{className:"avatar postAvatar"}),Object(i.jsx)("div",{className:"postName",children:e.name}),Object(i.jsx)("div",{className:"postMessage",children:e.message}),Object(i.jsxs)("div",{className:"postLike",children:[e.likeCounter," ",t]})]})}),q=n(13),X=(n(29),function(){var e=Object(O.b)();return Object(i.jsx)(q.d,{initialValues:{newPostText:""},validate:function(e){if(e.newPostText.length>50)return Object(i.jsx)("div",{children:"post too long"})},onSubmit:function(t,n){var r,c=n.setSubmitting;r=t.newPostText,e(C.a.addPost(r)),t.newPostText="",c(!1)},children:function(e){var t=e.isSubmitting;return Object(i.jsxs)(q.c,{children:[Object(i.jsx)(q.b,{className:"field",type:"text",name:"newPostText"}),Object(i.jsx)("button",{type:"submit",disabled:t,children:"Add post"})]})}})}),Z=c.a.memo((function(){var e=Object(O.c)((function(e){return e.profilePage.posts})),t=Object(P.a)(e).reverse().map((function(e){return Object(i.jsx)(Y,{name:e.name,message:e.message,likeCounter:e.likeCounter},e.id)}));return Object(i.jsxs)("div",{className:"postsContainer",children:[Object(i.jsx)("div",{children:"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?"}),Object(i.jsx)(X,{}),"\u041c\u041e\u0418 \u041d\u041e\u0412\u041e\u0421\u0422\u0418",t]})})),$=n(12),ee=(n(86),function(e){for(var t=e.totalItemsCount,n=e.pageSize,c=e.currentPage,a=e.onPageChanged,A=e.portionSize,s=void 0===A?10:A,u=Math.ceil(t/n),o=[],l=1;l<=u;l++)o.push(l);var f=Math.ceil(u/s),d=Object(r.useState)(1),j=Object($.a)(d,2),b=j[0],O=j[1],p=(b-1)*s+1,h=b*s,g=String.fromCharCode(8701),S=String.fromCharCode(8702);return Object(i.jsxs)("div",{className:"paginator",children:[b>1&&Object(i.jsx)("button",{className:"prevButton",onClick:function(){O(b-1)},children:g}),Object(i.jsx)("div",{className:"page",children:o.filter((function(e){return e>=p&&e<=h})).map((function(e){return Object(i.jsx)("span",{className:"".concat(c===e?"selectedPage":"noSelectedPage"," field pageText"),onClick:function(){a(e)},children:e},e)}))}),f>b&&Object(i.jsx)("button",{className:"nextButton",onClick:function(){O(b+1)},children:S})]})}),te=n(32),ne=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,c=e.unfollow,a=t.id;return Object(i.jsxs)("div",{className:"userBlock",children:[Object(i.jsx)("div",{children:Object(i.jsx)(u.b,{to:"/profile/"+a,children:Object(i.jsx)("img",{src:null!=t.photos.small?t.photos.small:te.a,alt:"user",className:"photoUser photoUser-Users"})})}),Object(i.jsx)("div",{className:"userName",children:t.name}),Object(i.jsx)("div",{className:"userStatus",children:t.status}),Object(i.jsx)("div",{children:t.followed?Object(i.jsx)("button",{className:"usersButton unfollowButton",disabled:n.some((function(e){return e===a})),onClick:function(){c(a)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}):Object(i.jsx)("button",{className:"usersButton followButton",disabled:n.some((function(e){return e===a})),onClick:function(){r(a)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})},re=c.a.memo((function(e){return Object(i.jsx)("div",{children:Object(i.jsx)(q.d,{initialValues:{term:"",friend:"null"},onSubmit:function(t,n){var r=n.setSubmitting,c={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(i.jsxs)(q.c,{className:"userSearch",children:[Object(i.jsx)(q.b,{className:"field term",type:"text",name:"term"}),Object(i.jsxs)(q.b,{className:"field friend",name:"friend",as:"select",children:[Object(i.jsx)("option",{value:"null",children:"\u0412\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(i.jsx)("option",{value:"true",children:"\u0414\u0440\u0443\u0437\u044c\u044f"}),Object(i.jsx)("option",{value:"false",children:"\u041d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0437\u0435\u0439"})]}),Object(i.jsx)("button",{className:"userButton",type:"submit",disabled:t,children:"\u041d\u0430\u0439\u0442\u0438"})]})}})})})),ce=function(e){return e.usersPage.users},ae=function(e){return e.usersPage.pageSize},Ae=function(e){return e.usersPage.totalUsersCount},se=function(e){return e.usersPage.currentPage},ue=function(e){return e.usersPage.isFetching},ie=function(e){return e.usersPage.followingInProgress},oe=function(e){return e.usersPage.filter},le=function(){var e=Object(O.c)(ue),t=Object(O.c)(ce),n=Object(O.c)(Ae),c=Object(O.c)(se),a=Object(O.c)(ae),A=Object(O.c)(oe),s=Object(O.c)(ie),o=Object(O.b)(),l=Object(b.g)(),f=Object(u.c)(),d=Object($.a)(f,2),j=d[0],p=d[1];Object(r.useEffect)((function(){var e=c,t=A;switch(j.get("page")&&(e=Number(j.get("page"))),j.get("term")&&(t=Object(m.a)(Object(m.a)({},t),{},{term:j.get("term")})),j.get("friend")){case"null":t=Object(m.a)(Object(m.a)({},t),{},{friend:null});break;case"true":t=Object(m.a)(Object(m.a)({},t),{},{friend:!0});break;case"false":t=Object(m.a)(Object(m.a)({},t),{},{friend:!1})}o(D(e,a,t))}),[]),Object(r.useEffect)((function(){var e={};A.term&&(e.term=A.term),1!==c&&(e.page=String(c)),null!==A.friend&&(e.friend=String(A.friend)),l("/users",{}),p(e),o(D(c,a,A))}),[A,c]);var h=function(e){o(function(e){return function(){var t=Object(S.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(n,e,R.f.follow.bind(R.f),F);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},x=function(e){o(function(e){return function(){var t=Object(S.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(n,e,R.f.unfollow.bind(R.f),I);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(i.jsxs)("div",{children:[e?Object(i.jsx)(w.a,{}):null,Object(i.jsx)("div",{children:Object(i.jsx)(re,{onFilterChanged:function(e){o(D(1,a,e))}})}),Object(i.jsx)(ee,{currentPage:c,onPageChanged:function(e){o(D(e,a,A))},totalItemsCount:n,pageSize:a}),Object(i.jsxs)("div",{className:"usersContainer",children:[" ",t.map((function(e){return Object(i.jsx)(ne,{user:e,followingInProgress:s,follow:h,unfollow:x},e.id)}))]})]})},fe=c.a.lazy((function(){return n.e(4).then(n.bind(null,92))})),de=c.a.lazy((function(){return n.e(3).then(n.bind(null,94))})),je=c.a.lazy((function(){return n.e(5).then(n.bind(null,93))})),be=function(){var e=Object(O.c)((function(e){return e.app.initialized})),t=Object(O.b)();return Object(r.useEffect)((function(){t(function(){var e=Object(S.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(x.b)());case 2:t(N());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),e?Object(i.jsxs)("div",{className:"app-wrapper",children:[Object(i.jsx)(p,{}),Object(i.jsx)(j,{}),Object(i.jsx)("div",{className:"app-wrapper-content",children:Object(i.jsx)(c.a.Suspense,{fallback:Object(i.jsx)(w.a,{}),children:Object(i.jsxs)(b.c,{children:[Object(i.jsx)(b.a,{path:"/",element:Object(i.jsx)(fe,{})}),Object(i.jsx)(b.a,{path:"/profile/*",element:Object(i.jsx)(je,{})}),Object(i.jsx)(b.a,{path:"/login",element:Object(i.jsx)(fe,{})}),Object(i.jsx)(b.a,{path:"/news/",element:Object(i.jsx)(Z,{})}),Object(i.jsx)(b.a,{path:"/dialogs/*",element:Object(i.jsx)(de,{})}),Object(i.jsx)(b.a,{path:"/users/",element:Object(i.jsx)(le,{})})]})})})]}):Object(i.jsx)(w.a,{})},Oe=function(){return Object(i.jsx)(u.a,{children:Object(i.jsx)(O.a,{store:J,children:Object(i.jsx)(be,{})})})};s.a.render(Object(i.jsx)(Oe,{}),document.getElementById("root")),a()}},[[87,1,2]]]);
//# sourceMappingURL=main.babec8f2.chunk.js.map