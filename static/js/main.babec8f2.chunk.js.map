{"version":3,"sources":["assets/Preloader.tsx","REDUX/auth-reducer.ts","REDUX/profile-reducer.ts","assets/images/man.jpeg","REDUX/dialogs-reducer.ts","API/api.ts","reportWebVitals.js","components/Nav/Nav.tsx","components/Header/Header.tsx","REDUX/app-reducer.ts","REDUX/utils/object-helper.ts","REDUX/users-reducer.ts","REDUX/redux-store.ts","components/MyPosts/Post.tsx","components/MyPosts/AddPostForm.tsx","components/MyPosts/MyPosts.tsx","components/Users/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","REDUX/users-selectors.ts","components/Users/Users.tsx","App.tsx","index.tsx"],"names":["Preloader","className","initialState","id","email","login","isAuth","captchaURL","actions","type","payload","getAuthUserData","dispatch","a","authAPI","me","meData","resultCode","ResultCodesEnum","Success","data","password","captcha","ResultCodeForCaptchaEnum","CaptchaIsRequired","getCaptchaUrl","securityAPI","url","authReducer","state","action","posts","name","message","likeCounter","newPostText","profile","status","addPost","setUserProfile","setStatus","savePhotoSuccess","photos","getUserProfile","userId","profileAPI","getProfile","getStatus","updateStatus","savePhoto","file","saveProfile","getState","auth","Error","Promise","reject","messages","profileReducer","newPost","dialogs","isOnline","newMessageBody","sendMessage","dialogsReducer","body","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","term","friend","get","then","res","follow","post","unfollow","delete","put","photoFile","formData","FormData","append","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Ne","to","Di","Us","Pr","Nav","Header","useSelector","initialized","appReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","filter","count","requestUsers","page","totalCount","_followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","rootReducer","combineReducers","profilePage","dialogsPage","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Post","props","like","String","fromCharCode","AddPostForm","useDispatch","initialValues","validate","values","length","onSubmit","setSubmitting","isSubmitting","disabled","MyPosts","React","memo","postsElements","reverse","p","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","prev","next","onClick","User","user","src","small","userPhoto","alt","some","UsersSearchForm","onFilterChanged","as","value","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersFilter","Users","navigate","useNavigate","useSearchParams","searchParams","setSearchParams","useEffect","actualPage","actualFilter","Number","query","followCB","bind","unfollowCB","pageNumber","Login","lazy","Dialogs","Profile","App","Suspense","fallback","path","element","SamuraiJSApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.babec8f2.chunk.js","sourcesContent":["import React from 'react';\nimport './Preloader.css';\n\nconst Preloader: React.FC = () => {\n    return <div className='yin-yang'/>\n}\n\nexport default Preloader;","import {authAPI, ResultCodeForCaptchaEnum, ResultCodesEnum, securityAPI} from \"../API/api\";\nimport {BaseThunkType, InferActionsType} from \"./redux-store\";\n\nlet initialState = {\n    id: null as number | null,\n    email: null as string | null,\n    login: null as string | null,\n    isAuth: false as boolean,\n    captchaURL: null as string | null\n};\n\nexport type InitialStateType = typeof initialState;\n\nconst authReducer = (state = initialState, action: ActionsType): InitialStateType => {\n    switch (action.type) {\n        case 'SN/AUTH/SET_USER_DATA':\n        case 'SN/AUTH/GET_CAPTCHA_URL_SUCCESS':\n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state;\n    }\n}\n//ACTION CREATORS\ntype ActionsType = InferActionsType<typeof actions>\nexport const actions = {\n    setAuthUserData: (id: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\n        type: 'SN/AUTH/SET_USER_DATA', payload: {id, email, login, isAuth}\n    } as const),\n    getCaptchaURLSuccess: (captchaURL: string | null) => ({\n        type: 'SN/AUTH/GET_CAPTCHA_URL_SUCCESS', payload: {captchaURL}\n    } as const)\n}\n//THUNKS CREATORS\nexport const getAuthUserData = (): BaseThunkType<ActionsType> =>\n    async (dispatch) => {\n    let meData = await authAPI.me()\n    if (meData.resultCode === ResultCodesEnum.Success) {\n        let {id, email, login} = meData.data;\n        dispatch(actions.setAuthUserData(id, email, login, true));\n    }\n}\nexport const login = (email: string, password: string, captcha: string | null): BaseThunkType<ActionsType> =>\n    async (dispatch) => {\n    let data = await authAPI.login(email, password, captcha);\n    if (data.resultCode === ResultCodesEnum.Success) {\n        await dispatch(getAuthUserData()) //are we need to use 3 times await or first is enough?\n    } else {\n        if (data.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired) {\n            await dispatch(getCaptchaUrl());\n        }\n//        let message = data.messages.length > 0 ? data.messages[0] : \"Login error\";\n//        dispatch(stopSubmit(\"login\", {_error: message}));\n    }\n}\nexport const getCaptchaUrl = (): BaseThunkType<ActionsType> =>\n    async (dispatch) => {\n    const data = await securityAPI.getCaptchaUrl();\n    const captchaURL = data.url;\n    dispatch(actions.getCaptchaURLSuccess(captchaURL));\n}\nexport const logout = (): BaseThunkType<ActionsType> =>\n    async (dispatch) => {\n    let data = await authAPI.logout();\n    if (data.data.resultCode === ResultCodesEnum.Success) {\n        dispatch(actions.setAuthUserData(null, null, null, false))\n    }\n}\n\nexport default authReducer","import {profileAPI, ResultCodesEnum} from \"../API/api\";\nimport {BaseThunkType, InferActionsType} from \"./redux-store\";\n\nexport type ContactsType = {\n    github: string | null\n    vk: string | null\n    facebook: string | null\n    instagram: string | null\n    twitter: string | null\n    website: string | null\n    youtube: string | null\n    mainLink: string | null\n}\nexport type PhotosType = {\n    small: string | undefined\n    large: string | undefined\n}\nexport type ProfileType = {\n    aboutMe: string | null\n    userId: number\n    lookingForAJob: boolean\n    lookingForAJobDescription: string | null\n    fullName: string\n    contacts: ContactsType\n    photos: PhotosType\n}\nexport type PostType = {\n    id: number\n    name: string\n    message: string\n    likeCounter: number\n}\nlet initialState = {\n    posts: [\n        {id: 1, name: 'Ангелина Токарь', message: 'Это мой первый пост', likeCounter: 1},\n        {id: 2, name: 'Ангелина Токарь', message: 'Все мы - не одинаково полезные йогурты', likeCounter: 2},\n        {id: 3, name: 'Ангелина Токарь', message: 'Скоро будут классные новости. Волнуюсь - не передать словами. Держите кулачки)', likeCounter: 3}\n    ] as Array<PostType>,\n    newPostText: '',\n    profile: null as ProfileType | null,\n    status: ''\n}\n\nexport type InitialStateType = typeof initialState\n\nconst profileReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\n    switch (action.type) {\n        case 'SN/PROFILE/ADD_POST': {\n            let newPost = {\n                id: 4, name: 'Ангелина Токарь', message: action.newPostText, likeCounter: 0\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n                newPostText: ''\n            }\n        }\n        case 'SN/PROFILE/SET_USER_PROFILE': {\n            return {\n                ...state,\n                profile: action.profile\n            }\n        }\n        case 'SN/PROFILE/SET_STATUS': {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case 'SN/PROFILE/SAVE_PHOTO_SUCCESS': {\n            return {\n                ...state,\n                profile: {...state.profile, photos: action.photos} as ProfileType\n            }\n        }\n        default:\n            return state;\n    }\n}\n//ACTION CREATORS\ntype ActionsType = InferActionsType<typeof actions>\n\nexport const actions = {\n    addPost: (newPostText: string) => ({type: 'SN/PROFILE/ADD_POST', newPostText} as const),\n    setUserProfile: (profile: ProfileType) => ({type: 'SN/PROFILE/SET_USER_PROFILE', profile} as const),\n    setStatus: (status: string) => ({type: 'SN/PROFILE/SET_STATUS', status} as const),\n    savePhotoSuccess: (photos: PhotosType) => ({type: 'SN/PROFILE/SAVE_PHOTO_SUCCESS', photos} as const)\n}\n//THUNKS CREATORS\nexport const getUserProfile = (userId: number): BaseThunkType<ActionsType> =>\n    async (dispatch) => {\n    let data = await profileAPI.getProfile(userId);\n    dispatch(actions.setUserProfile(data));\n}\nexport const getStatus = (userId: number): BaseThunkType<ActionsType> =>\n    async (dispatch) => {\n    let data = await profileAPI.getStatus(userId);\n    dispatch(actions.setStatus(data));\n}\nexport const updateStatus = (status: string): BaseThunkType<ActionsType> =>\n    async (dispatch) => {\n    let data = await profileAPI.updateStatus(status);\n    if (data.resultCode === ResultCodesEnum.Success) {\n        dispatch(actions.setStatus(status));\n    }\n}\nexport const savePhoto = (file: File): BaseThunkType<ActionsType> =>\n    async (dispatch) => {\n    let data = await profileAPI.savePhoto(file);\n    if (data.resultCode === ResultCodesEnum.Success) {\n        dispatch(actions.savePhotoSuccess(data.data.photos));\n    }\n}\nexport const saveProfile = (profile: ProfileType): BaseThunkType<ActionsType> =>\n    async (dispatch, getState) => {\n    const userId = getState().auth.id;\n    const data = await profileAPI.saveProfile(profile);\n    if (data.resultCode === ResultCodesEnum.Success) {\n        if (userId != null) {\n            await dispatch(getUserProfile(userId));\n        } else {\n            throw new Error('userId can`t be null')\n        }\n    } else {\n        return Promise.reject(data.messages[0]);\n    }\n}\n\nexport default profileReducer","export default \"data:image/jpeg;base64,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\"","import {InferActionsType} from \"./redux-store\";\n\nexport type InitialStateType = typeof initialState;\nexport type DialogType = {\n    id: number\n    name: string\n    isOnline: boolean\n}\nexport type MessageType = {\n    id: number\n    message: string\n}\nlet initialState = {\n    dialogs: [\n        {id: 1, name: 'Андрей Гончаров', isOnline: true},\n        {id: 2, name: 'Саша Кузнецова', isOnline: false},\n        {id: 3, name: 'Дмитрий Ткачев', isOnline: false},\n        {id: 4, name: 'Анна Столярова', isOnline: true},\n        {id: 5, name: 'Виктор Бондарь', isOnline: false},\n        {id: 6, name: 'Валерия Мельникова', isOnline: false}\n    ] as Array<DialogType>,\n    messages: [\n        {id: 1, message: 'Привет'},\n        {id: 2, message: 'Завтра как обычно?'},\n        {id: 3, message: 'Я захвачу кофе'},\n    ] as Array<MessageType>,\n    newMessageBody: '' as string\n}\n\nconst dialogsReducer = (state: InitialStateType = initialState, action: ActionsType) => {\n    switch (action.type) {\n        case 'SN/DIALOGS/SEND_MESSAGE':\n            let body = action.newMessageBody;\n            return {\n                ...state,\n                messages: [...state.messages, {id: 4, message: body}]\n            };\n        default:\n            return state;\n    }\n}\n//ACTION CREATORS\ntype ActionsType = InferActionsType<typeof actions>\nexport const actions = {\n    sendMessage: (newMessageBody: string) => ({type: 'SN/DIALOGS/SEND_MESSAGE', newMessageBody} as const)\n}\n\n\nexport default dialogsReducer","import axios from 'axios';\nimport {PhotosType, ProfileType} from \"../REDUX/profile-reducer\";\nimport {UserType} from \"../REDUX/users-reducer\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n    headers: {\"API-KEY\": \"fbbfebc8-cded-4e6a-b6ad-1df4c0e62546\"}\n})\nexport enum ResultCodesEnum {\n    Success = 0,\n    Error= 1\n}\nexport enum ResultCodeForCaptchaEnum {\n    CaptchaIsRequired = 10\n}\n\nexport type ResponseType< D = {}, RC = ResultCodesEnum > = {\n    data: D\n    messages: Array<string>\n    resultCode: RC\n}\n\n//USERS API\ntype GetUsersItems = {\n    items: Array<UserType>\n    totalCount: number\n    error: string | null\n}\nexport const usersAPI = {\n    getUsers (currentPage = 1, pageSize = 12, term: string = '', friend: null | boolean = null) {\n        return instance.get<GetUsersItems>(`users?page=${currentPage}&count=${pageSize}&term=${term}`\n            + (friend === null ? '' : `&friend=${friend}`))\n            .then(res => res.data)\n    },\n    follow (userId: number){\n        return instance.post<ResponseType>(`follow/${userId}`).then(res => res.data) //URI parameters from API-documentation\n    },\n    unfollow (userId: number){\n        return instance.delete(`follow/${userId}`).then(res => res.data) as Promise<ResponseType>\n    },\n}\n\n//PROFILE API\ntype SavePhotoResponseDataType = {\n    photos: PhotosType\n}\nexport const profileAPI = {\n    getProfile(userId: number) {\n        return instance.get<ProfileType>(`profile/`+userId).then(res => res.data)\n    },\n    getStatus(userId: number) {\n        return instance.get<string>(`profile/status/${userId}`).then(res => res.data)\n    },\n    updateStatus(status: string) {\n        return instance.put<ResponseType>(`profile/status`, {\n            status: status\n        }).then(res => res.data)\n    },\n    savePhoto(photoFile: any) {\n        const formData = new FormData();\n        formData.append('image', photoFile)\n        return instance.put<ResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {headers:{'Content-Type': 'multipart/form-data'}})\n            .then(res => res.data)\n    },\n    saveProfile(profile: ProfileType) {\n        return instance.put<ResponseType>(`profile`, profile).then(res => res.data)\n    }\n}\n\n//AUTH API\ntype MeResponseDataType = {\n    id: number,\n    email: string,\n    login: string\n}\ntype LoginResponseDataType = {\n    userId: number\n}\nexport const authAPI = {\n    me() {return instance.get<ResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data)},\n    login(email: string, password: string, captcha: string | null = null) {\n        return instance.post<ResponseType<LoginResponseDataType, ResultCodesEnum | ResultCodeForCaptchaEnum>>\n        (`auth/login`, {email, password, captcha}).then(res => res.data)\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    }\n}\n\n//SECURITY API\ntype GetCaptchaUrlResponseType = {\n    url: string\n}\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`).then(res => res.data)\n    }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport './Nav.css'\nimport '../../assets/yinYang.css'\nimport {NavLink} from \"react-router-dom\";\n\nconst Nav: React.FC = () => {\n    return <nav className='nav'>\n    <Ne /><Di /><div className='yinYang'/><Us /><Pr />\n    </nav>\n}\n\nconst Ne = () => {return <div className='h_nav ne'><NavLink to=\"/news\">НОВОСТИ</NavLink></div>}\nconst Di = () => {return <div className='h_nav di'><NavLink to=\"/dialogs\">СООБЩЕНИЯ</NavLink></div>}\nconst Us = () => {return <div className='h_nav us'><NavLink to=\"/users\">ПОЛЬЗОВАТЕЛИ</NavLink></div>}\nconst Pr = () => {return <div className='h_nav pr'><NavLink to=\"/profile\">ПРОФИЛЬ</NavLink></div>}\n\nexport default Nav;","import React from 'react';\nimport './Header.css'\nimport {NavLink} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\nimport {AppStateType} from \"../../REDUX/redux-store\";\n\nconst Header: React.FC = () => {\n    const isAuth = useSelector((state:AppStateType) => state.auth.isAuth)\n    const login = useSelector((state:AppStateType) => state.auth.login)\n    return <header className='header'>\n        SCLNTWRK<b className='header__PRO'>PRO</b>\n        <div className='loginBlock'>\n            {isAuth ? login :<NavLink to={'/login'}>Login</NavLink>}\n        </div>\n    </header>\n};\n\nexport default Header;","import {getAuthUserData} from \"./auth-reducer\";\nimport {BaseThunkType, InferActionsType} from \"./redux-store\";\n\nlet initialState = {\n    initialized: false\n};\nexport type InitialStateType = typeof initialState\n\nconst appReducer = (state = initialState, action: ActionsType): InitialStateType => {\n    switch (action.type) {\n        case 'SN/APP/INITIALIZED_SUCCESS':\n            return {\n                ...state,\n                initialized: true\n            }\n        default:\n            return state;\n    }\n}\n//ACTION CREATORS\ntype ActionsType = InferActionsType<typeof actions>\nexport const actions = {\n    initializedSuccess: () => ({type: 'SN/APP/INITIALIZED_SUCCESS'} as const)\n}\n//THUNKS CREATORS\nexport const initializeApp = (): BaseThunkType<ActionsType> => async (dispatch) => {\n    await dispatch(getAuthUserData());\n            dispatch(actions.initializedSuccess());\n}\n\nexport default appReducer","export const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\n    return items.map((u: any) => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps}}\n        return u;\n    })\n}\n","import {ResponseType, usersAPI} from \"../API/api\";\nimport {updateObjectInArray} from \"./utils/object-helper\";\nimport {PhotosType} from \"./profile-reducer\";\nimport {BaseThunkType, InferActionsType} from \"./redux-store\";\nimport {Dispatch} from \"redux\";\n\nexport type UserType = {\n    id: number\n    name: string\n    status: string\n    photos: PhotosType\n    followed?: boolean\n}\n\nlet initialState = {\n    users: [] as Array<UserType>,\n    pageSize: 12,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [] as Array<number>,\n    filter: {\n        term: '',\n        friend: null as null | boolean\n    }\n};\n\ntype InitialStateType = typeof initialState\nexport type FilterType = typeof initialState.filter\n\nconst usersReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\n    switch (action.type) {\n        case 'SN/USERS/FOLLOW':\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\n            }\n        case 'SN/USERS/UNFOLLOW':\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\n            }\n        case 'SN/USERS/SET_USERS': {\n            return {\n                ...state, users: action.users\n            }\n        }\n        case 'SN/USERS/SET_CURRENT_PAGE': {\n            return {\n                ...state, currentPage: action.currentPage\n            }\n        }\n        case 'SN/USERS/SET_TOTAL_USERS_COUNT': {\n            return {\n                ...state, totalUsersCount: action.count\n            }\n        }\n        case 'SN/USERS/SET_FILTER': {\n            return {\n                ...state, filter: action.payload\n            }\n        }\n        case 'SN/USERS/TOGGLE_IS_FETCHING': {\n            return {\n                ...state, isFetching: action.isFetching\n            }\n        }\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS': {\n            return {\n                ...state, followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n}\n//ACTION CREATORS\ntype ActionsType = InferActionsType<typeof actions>\nexport const actions = {\n    followSuccess: (userId: number) => ({type: 'SN/USERS/FOLLOW', userId} as const),\n    unfollowSuccess: (userId: number) => ({type: 'SN/USERS/UNFOLLOW', userId} as const),\n    setUsers: (users: Array<UserType>) => ({type: 'SN/USERS/SET_USERS', users} as const),\n    setCurrentPage: (currentPage: number) => ({type: 'SN/USERS/SET_CURRENT_PAGE', currentPage} as const),\n    setTotalUsersCount: (totalUsersCount: number) => ({type: 'SN/USERS/SET_TOTAL_USERS_COUNT', count: totalUsersCount} as const),\n    setFilter: (filter: FilterType) => ({type: 'SN/USERS/SET_FILTER', payload: filter} as const),\n    toggleIsFetching: (isFetching: boolean) => ({type: 'SN/USERS/TOGGLE_IS_FETCHING', isFetching} as const),\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => ({\n        type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS',\n        isFetching,\n        userId\n    } as const)\n}\n\n//THUNKS CREATORS\nexport const requestUsers = (page: number, pageSize: number, filter: FilterType): BaseThunkType<ActionsType> => {\n    return async (dispatch) => {\n        dispatch(actions.toggleIsFetching(true));\n        dispatch(actions.setCurrentPage(page))\n        dispatch(actions.setFilter(filter))\n        let data = await usersAPI.getUsers(page, pageSize, filter.term, filter.friend);\n        dispatch(actions.toggleIsFetching(false));\n        dispatch(actions.setUsers(data.items));\n        dispatch(actions.setTotalUsersCount(data.totalCount));\n    }\n}\nconst _followUnfollowFlow = async (dispatch: Dispatch<ActionsType>, userId: number, apiMethod: (userId: number) => Promise<ResponseType>,\n                                   actionCreator: (userId: number) => ActionsType) => {\n    dispatch(actions.toggleFollowingProgress(true, userId))\n    let response = await apiMethod(userId)\n    if (response.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(actions.toggleFollowingProgress(false, userId))\n}\nexport const follow = (userId: number): BaseThunkType<ActionsType> => {\n    return async (dispatch) => {\n        await _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), actions.followSuccess);\n    }\n}\nexport const unfollow = (userId: number): BaseThunkType<ActionsType> => {\n    return async (dispatch) => {\n        await _followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), actions.unfollowSuccess);\n    }\n}\nexport default usersReducer;","import profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport appReducer from \"./app-reducer\";\nimport {createStore, applyMiddleware, compose, combineReducers, Action} from 'redux';\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\n\nlet rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer\n});\n\ntype RootReducerType = typeof rootReducer;\nexport type AppStateType = ReturnType<RootReducerType>;\nexport type InferActionsType<T> = T extends {[key: string]: (...args: any[])=> infer U} ? U : never\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nexport default store;","import React from \"react\";\nimport './MyPosts.css';\nimport '../../assets/Avatar.css'\n\ntype PropsType = {\n    name: string\n    message: string\n    likeCounter: number\n}\n\nconst Post: React.FC<PropsType> = (props) => {\n    const like = String.fromCharCode(9825)\n    return <div className='post'>\n        <div className='avatar postAvatar'/>\n        <div className='postName'>{props.name}</div>\n        <div className='postMessage'>{props.message}</div>\n        <div className='postLike'>{props.likeCounter} {like}</div>\n    </div>\n};\n\nexport default Post;\n\n","import React from \"react\";\nimport {Formik, Form, Field} from 'formik';\nimport {useDispatch} from \"react-redux\";\nimport {actions} from \"../../REDUX/profile-reducer\";\nimport '../../assets/Form.css'\n\nconst AddPostForm: React.FC = () => {\n    const dispatch = useDispatch()\n\n    const addPostCB = (newPostText: string) => {\n        dispatch(actions.addPost(newPostText))\n    }\n    return <Formik\n        initialValues={{newPostText: '' as string}}\n        validate={values => {\n            if (values.newPostText.length > 50) {\n                return <div>post too long</div>\n            }\n        }}\n        onSubmit={(values: { newPostText: string }, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\n            addPostCB(values.newPostText)\n            values.newPostText = ''\n            setSubmitting(false);\n        }}\n    >\n        {({isSubmitting}) => (\n            <Form>\n                <Field className='field' type='text' name='newPostText'/>\n                <button type='submit' disabled={isSubmitting}>\n                    Add post\n                </button>\n            </Form>\n        )}\n    </Formik>\n}\n\nexport default AddPostForm","import './MyPosts.css'\nimport React from 'react'\nimport Post from './Post'\nimport AddPostForm from './AddPostForm'\nimport {useSelector} from 'react-redux'\nimport {AppStateType} from '../../REDUX/redux-store'\n\nconst MyPosts: React.FC = React.memo(() => {\n    const posts = useSelector((state:AppStateType) => state.profilePage.posts)\n    let postsElements =\n        [...posts]\n            .reverse()\n            .map(p => <Post key={p.id} name={p.name} message={p.message} likeCounter={p.likeCounter}/>)\n    return <div className='postsContainer'>\n        <div>Что нового?</div>\n        <AddPostForm />\n        МОИ НОВОСТИ\n        {postsElements}\n    </div>\n})\n\nexport default MyPosts;","import React, {useState} from 'react';\nimport '../../assets/Form.css'\n\ntype PropsType = {\n    totalItemsCount: number\n    pageSize: number\n    currentPage: number\n    onPageChanged: (pageNumber: number) => void\n    portionSize?: number\n}\nconst Paginator: React.FC<PropsType> = ({totalItemsCount, pageSize, currentPage,\n                                            onPageChanged, portionSize = 10}) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages: Array<number>= [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n    const prev = String.fromCharCode(8701)\n    const next = String.fromCharCode(8702)\n\n    return <div className='paginator'>\n        {portionNumber > 1 &&\n        <button className='prevButton' onClick={() => {\n            setPortionNumber(portionNumber - 1)\n        }}>{prev}</button>}\n        <div className='page'>\n        {pages\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n            .map((p) => {\n                return <span\n                    className={`${currentPage === p ? 'selectedPage' : 'noSelectedPage'} field pageText`}\n                    key={p} onClick={() => {onPageChanged(p)}}>{p}\n                </span>\n            })}\n        </div>\n        {portionCount > portionNumber &&\n        <button className='nextButton' onClick={() => {\n            setPortionNumber(portionNumber + 1)\n        }}>{next}</button>}\n    </div>\n}\n\nexport default Paginator","import {NavLink} from \"react-router-dom\";\nimport userPhoto from \"../../assets/images/man.jpeg\";\nimport React from \"react\";\nimport {UserType} from \"../../REDUX/users-reducer\";\n\ntype PropsType = {\n    user: UserType\n    followingInProgress: Array<number>\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n}\n\nconst User: React.FC<PropsType> = ({user, followingInProgress, follow, unfollow}) => {\n    const userId = user.id\n    return (\n        <div className='userBlock'>\n            <div>\n                <NavLink to={'/profile/' + userId}>\n                    <img src={user.photos.small != null ? user.photos.small :\n                        userPhoto} alt={'user'} className='photoUser photoUser-Users'/>\n                </NavLink>\n            </div>\n            <div className='userName'>{user.name}</div>\n            <div className='userStatus'>{user.status}</div>\n            <div>\n                {user.followed\n                    ? <button className='usersButton unfollowButton'\n                              disabled={followingInProgress.some(id => id === userId)}\n                              onClick={() => {\n                                  unfollow(userId)\n                              }}>\n                        Удалить</button>\n                    : <button className='usersButton followButton'\n                              disabled={followingInProgress.some(id => id === userId)}\n                              onClick={() => {\n                                  follow(userId)\n                              }}>\n                        Добавить</button>}\n            </div>\n        </div>)\n}\n\nexport default User;","import React from \"react\";\nimport {Field, Form, Formik} from \"formik\";\nimport {FilterType} from \"../../REDUX/users-reducer\";\nimport '../../assets/Form.css'\n\ntype PropsType = {\n    onFilterChanged: (filter: FilterType) => void\n}\ntype FormType = {\n    term: string\n    friend: 'true' | 'false' | 'null'\n}\nconst UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\n    const submit = (values: FormType, {setSubmitting}: {setSubmitting: (isSubmitting: boolean) => void}) => {\n        const filter: FilterType = {\n            term: values.term,\n            friend: values.friend === 'null' ? null : values.friend === 'true'\n        }\n        props.onFilterChanged(filter)\n        setSubmitting(false);\n    }\n    return <div>\n        <Formik\n            initialValues={{term: '', friend: 'null'}}\n            onSubmit={submit}\n        >\n            {({ isSubmitting }) => (\n                <Form className='userSearch'>\n                    <Field className='field term' type='text' name='term' />\n                    <Field className='field friend' name='friend' as='select'>\n                        <option value='null'>Все пользователи</option>\n                        <option value='true'>Друзья</option>\n                        <option value='false'>Найти друзей</option>\n                    </Field>\n                    <button className='userButton' type=\"submit\" disabled={isSubmitting}>\n                        Найти\n                    </button>\n                </Form>\n            )}\n        </Formik>\n    </div>\n})\n\nexport default UsersSearchForm","import {AppStateType} from \"./redux-store\";\n\nexport const getUsers= (state: AppStateType) => {\n    return state.usersPage.users;\n}\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize;\n}\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount;\n}\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage;\n}\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching;\n}\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress;\n}\nexport const getUsersFilter = (state: AppStateType) => {\n    return state.usersPage.filter;\n}","import React, {useEffect} from 'react';\nimport './Users.css'\nimport Paginator from \"./Paginator\";\nimport User from \"./User\";\nimport {FilterType, requestUsers, follow, unfollow} from \"../../REDUX/users-reducer\";\nimport UsersSearchForm from \"./UsersSearchForm\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n    getCurrentPage, getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount, getUsers,\n    getUsersFilter\n} from \"../../REDUX/users-selectors\";\nimport Preloader from \"../../assets/Preloader\";\nimport {useNavigate, useSearchParams} from \"react-router-dom\";\n\ntype QueryParamsType = { term?: string; page?: string; friend?: string }\n\nexport const Users: React.FC = () => {\n    const isFetching = useSelector(getIsFetching)\n    const users = useSelector(getUsers)\n    const totalUsersCount = useSelector(getTotalUsersCount)\n    const currentPage = useSelector(getCurrentPage)\n    const pageSize = useSelector(getPageSize)\n    const filter = useSelector(getUsersFilter)\n    const followingInProgress = useSelector(getFollowingInProgress)\n\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n    const [searchParams, setSearchParams] = useSearchParams()\n    useEffect(() => {\n        let actualPage = currentPage\n        let actualFilter = filter\n        if (!!searchParams.get('page')) {\n            actualPage = Number(searchParams.get('page'))\n        }\n        if (!!searchParams.get('term')) {\n            actualFilter = {...actualFilter, term: searchParams.get('term') as string}\n        }\n        switch(searchParams.get('friend')) {\n            case \"null\":\n                actualFilter = {...actualFilter, friend: null}\n                break;\n            case \"true\":\n                actualFilter = {...actualFilter, friend: true}\n                break;\n            case \"false\":\n                actualFilter = {...actualFilter, friend: false}\n                break;\n        }\n        dispatch(requestUsers(actualPage, pageSize, actualFilter))\n    },[])\n\n    useEffect(() => {\n        const query: QueryParamsType = {}\n        if (!!filter.term) query.term = filter.term\n        if (currentPage !== 1) query.page = String(currentPage)\n        if (filter.friend !== null) query.friend = String(filter.friend)\n\n        navigate('/users', {})\n        setSearchParams(query)\n        dispatch(requestUsers(currentPage, pageSize, filter))\n    },[filter, currentPage])\n\n    const onPageChanged = (pageNumber: number) => {\n        dispatch(requestUsers(pageNumber, pageSize, filter))\n    }\n    const onFilterChanged = (filter: FilterType) => {\n        dispatch(requestUsers(1, pageSize, filter))\n    }\n    const followCB = (userId: number) => {\n        dispatch(follow(userId))\n    }\n    const unfollowCB = (userId: number) => {\n        dispatch(unfollow(userId))\n    }\n\n    return <div>\n        {isFetching ? <Preloader/> : null}\n        <div>\n            <UsersSearchForm onFilterChanged={onFilterChanged}/>\n        </div>\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount}\n                   pageSize={pageSize}/>\n        <div className='usersContainer'> {users.map(u =>\n            <User user={u}\n                  key={u.id}\n                  followingInProgress={followingInProgress}\n                  follow={followCB}\n                  unfollow={unfollowCB}\n                  />)}\n        </div>\n    </div>\n}","import React, {useEffect} from 'react';\nimport './App.css';\nimport Nav from './components/Nav/Nav'\nimport {BrowserRouter, Route, Routes} from \"react-router-dom\";\nimport Header from \"./components/Header/Header\";\nimport {Provider, useDispatch, useSelector} from \"react-redux\";\nimport {initializeApp} from \"./REDUX/app-reducer\";\nimport Preloader from \"./assets/Preloader\";\nimport store, {AppStateType} from \"./REDUX/redux-store\";\nimport MyPosts from \"./components/MyPosts/MyPosts\";\nimport {Users} from \"./components/Users/Users\";\nconst Login = React.lazy(() => import('./components/Login/Login'))\nconst Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'));\nconst Profile = React.lazy(() => import('./components/Profile/Profile'));\n\nconst App: React.FC = () => {\n    const initialized = useSelector((state: AppStateType) => state.app.initialized)\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(initializeApp())\n    }, [])\n\n    if (!initialized) {\n        return <Preloader/>\n    }\n    return (\n        <div className='app-wrapper'>\n            <Header/>\n            <Nav/>\n            <div className='app-wrapper-content'>\n                <React.Suspense fallback={<Preloader/>}>\n                    <Routes>\n                        <Route path='/' element={<Login/>}/>\n                        <Route path='/profile/*' element={<Profile/>}/>\n                        <Route path='/login' element={<Login />}/>\n                        <Route path='/news/' element={<MyPosts/>}/>\n                        <Route path='/dialogs/*' element={<Dialogs/>}/>\n                        <Route path='/users/' element={<Users/>}/>\n                    </Routes>\n                </React.Suspense>\n            </div>\n        </div>)\n}\n\nconst SamuraiJSApp: React.FC = () => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default SamuraiJSApp;","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport SamuraiJSApp from \"./App\";\n\nReactDOM.render(<SamuraiJSApp />, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}